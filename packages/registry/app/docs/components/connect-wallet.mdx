---
title: Connect Wallet
description: A comprehensive wallet connection component with multi-wallet support and account aggregation.
---

import { ConnectWalletWithProvider } from "@/registry/dot-ui/blocks/connect-wallet/components/connect-wallet.dedot";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs"
import { Wallet, Users, Check, Clock, AlertCircle, ExternalLink } from "lucide-react";

## Introduction

ConnectWallet is a comprehensive wallet management component that provides multi-wallet connection capabilities, account aggregation, and visual account identification with wallet badges. It seamlessly handles multiple wallet extensions and provides a unified interface for account selection.

<Callout title="Important note" type="warning">
  This component currently only supports dedot. Make sure that you have dedot installed in your project. 
  Support for polkadot-api is coming soon.
</Callout>

## Features

- ✅ **Multi-Wallet Support**: Connect multiple wallets simultaneously (Polkadot.js, Talisman, SubWallet, etc.)
- ✅ **Account Aggregation**: View all accounts from connected wallets in a unified interface
- ✅ **Visual Identification**: Account identicons with wallet badges to distinguish wallet sources
- ✅ **Smart Account Selection**: Handles duplicate addresses across different wallets
- ✅ **Connection Management**: Easy connect/disconnect for individual wallets or all at once
- ✅ **Real-time Updates**: Dynamic account counts and connection status
- ✅ **TypeScript**: Full type safety with comprehensive interfaces
- ✅ **Provider Integration**: Works with TypinkProvider providing useful hooks out of the box

## Installation

```bash
npx polkadot-ui@latest add connect-wallet
```

## Usage

### Basic Wallet Connection

<Tabs defaultValue="preview" className="max-w-[600px]">
  <TabsList>
    <TabsTrigger value="preview">Preview</TabsTrigger>
    <TabsTrigger value="code">Code</TabsTrigger>
  </TabsList>
  <TabsContent value="preview">
    <ConnectWalletWithProvider buttonLabel="Connect Your Wallet" />
  </TabsContent>
  <TabsContent value="code" className="my-0">
```tsx
import { ConnectWallet } from "@/components/ui/connect-wallet";

function MyComponent() {
  return (
    <ConnectWallet buttonLabel="Connect Your Wallet" />
  );
}
```
</TabsContent>
</Tabs>

### Multi-Wallet Account Management

<Tabs defaultValue="preview" className="max-w-[600px]">
  <TabsList>
    <TabsTrigger value="preview">Preview</TabsTrigger>
    <TabsTrigger value="code">Code</TabsTrigger>
  </TabsList>
  <TabsContent value="preview">
    <div className="space-y-4">
      <ConnectWalletWithProvider />
      <div className="text-sm text-muted-foreground">
        <p>• Connect multiple wallets simultaneously</p>
        <p>• View aggregated accounts with wallet badges</p>
        <p>• Manage connections individually or collectively</p>
      </div>
    </div>
  </TabsContent>
  <TabsContent value="code" className="my-0">
```tsx
// The component automatically handles:
// - Multiple wallet connections
// - Account aggregation
// - Duplicate address detection
// - Visual wallet identification

<ConnectWallet />
```
</TabsContent>
</Tabs>

### Custom Button Label

<Tabs defaultValue="preview" className="max-w-[600px]">
  <TabsList>
    <TabsTrigger value="preview">Preview</TabsTrigger>
    <TabsTrigger value="code">Code</TabsTrigger>
  </TabsList>
  <TabsContent value="preview">
    <ConnectWalletWithProvider buttonLabel="Manage Wallets" />
  </TabsContent>
  <TabsContent value="code" className="my-0">
```tsx
<ConnectWallet buttonLabel="Manage Wallets" />
```
</TabsContent>
</Tabs>

## Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `buttonLabel` | `string` | `"Connect Wallet"` | Text displayed on the main button |
| `services` | `AccountSelectionServices` | - | Injected services for wallet and account management |

## Wallet Connection States

The ConnectWallet component handles multiple connection states:

### 1. No Wallets Connected
- Shows "Connect Wallet" button
- Opens wallet selection dialog
- Lists all available wallet extensions
- Show "Install" button for wallet extensions that are not installed
- Show "Connect" button otherwise

### 2. Wallets Connected, No Active Account
- Shows account count and wallet count
- Provides "Select Account" option
- Displays aggregated account information

### 3. Active Account Selected
- Shows active account name and truncated address
- Provides quick access to account switching
- Maintains connection status indicators

## Account Identification System

### Identicon with Wallet Badges
The component uses a clear visual system to help users identify accounts:

```tsx
// Each account displays:
// - Large identicon (80px) generated from the address
// - Small wallet logo badge (32px) positioned at bottom-right
// - Maintains 2:1 ratio between identicon and badge
// - Handles duplicate addresses across different wallets
```

### Visual Features
- **Large Identicons**: Polkadot-style identicons for clear account identification
- **Wallet Badges**: Wallet logos overlaid on identicons
- **Responsive Design**: Scales appropriately across different screen sizes, icon sizes can be customized
- **Hover States**: Consistent hover states with proper contrast

## Multi-Wallet Architecture

### Wallet Detection
```tsx
// Automatically detects and lists:
// - Polkadot.js Extension
// - Talisman
// - SubWallet
// - Nova Wallet
// - Fearless Wallet
// - And other Polkadot-compatible wallets
```

### Account Aggregation
```tsx
// Handles complex scenarios:
// - Same address in multiple wallets
// - Different account names for same address
// - Wallet-specific account metadata
// - Connection status per wallet
```

### Connection Management
```tsx
// Provides granular control:
// - Connect individual wallets
// - Disconnect specific wallets
// - Disconnect all wallets at once
// - Maintain connection persistence
```

## Provider Integration

The component integrates with the TypinkProvider system:

### TypinkProvider Setup
```tsx
import { TypinkProvider } from "typink";

function App() {
  return (
    <TypinkProvider config={dotUiConfig}>
      <ConnectWallet />
    </TypinkProvider>
  );
}
```

### Chain Configuration
```tsx
// Supports multiple chains:
const config = {
  chains: {
    paseo: { ... },
    paseo_people: { ... },
    // Add custom chains
  }
};
```

## Best Practices

### 1. Wallet Connection Flow
```tsx
// Recommended user flow:
// 1. User clicks "Connect Wallet"
// 2. Select and connect one or more wallets
// 3. Choose active account from aggregated list
// 4. Maintain connection across sessions
```

### 2. Account Selection
```tsx
// Handle duplicate addresses gracefully:
// - Show wallet source for each account
// - Allow selection of specific wallet-account combination
// - Maintain visual distinction with badges
```

### 3. Error Handling
```tsx
// Comprehensive error scenarios:
// - Wallet not installed
// - User rejection of connection
// - Network connectivity issues
// - Extension compatibility problems
```

## Advanced Usage

### Custom Wallet Services
```tsx
interface CustomWalletServices {
  useWalletManagement: () => WalletManagementHookProps;
  useAccountManagement: () => AccountManagementHookProps;
}

<ConnectWallet services={customServices} />
```

### Multi-Chain Support
```tsx
// Configure for multiple chains:
<TypinkProvider config={{
  chains: {
    polkadot: { ... },
    kusama: { ... },
    paseo: { ... }
  }
}}>
  <ConnectWallet />
</TypinkProvider>
```

## Supported Wallets

The component automatically detects and supports:

- **Polkadot.js Extension** - The original Polkadot wallet extension
- **Talisman** - Desktop wallet solution
- **SubWallet** - Mobile and desktop wallet solution
- **Nova Wallet** - Mobile wallet solution
- **Fearless Wallet** - Mobile wallet solution

## Technical Implementation

### Button Component Override
The component uses CSS `!important` overrides to bypass Button component SVG size constraints (in `account-selection.base.tsx`):

```tsx
className="[&_svg]:!w-auto [&_svg]:!h-auto"
// Allows identicons to display at full 80px size within Button components
```

### Account Selection Logic
```tsx
// Ensures only one active account across all wallets:
isSelected={
  activeAccount?.address === account.address &&
  activeAccount?.source === account.source
}
```

## Examples

<div className="space-y-6">
  <ConnectWalletWithProvider />
  
  <div className="border rounded-lg p-4">
    <h3 className="font-medium mb-2 flex items-center gap-2">
      <Wallet className="w-4 h-4" />
      Multi-Wallet Features
    </h3>
    <ul className="text-sm text-muted-foreground space-y-1">
      <li>• Connect multiple wallets simultaneously</li>
      <li>• View all accounts with wallet identification badges</li>
      <li>• Handle duplicate addresses across wallets</li>
      <li>• Manage connections individually or collectively</li>
    </ul>
  </div>
</div>